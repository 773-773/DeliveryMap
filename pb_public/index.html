<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FoodDeliveryEye</title>
<style>
body { margin:0; background:#0d0d0d; color:#fff; font-family:sans-serif; text-align:center; }
header { background:#000; padding:20px 10px; border-bottom:1px solid #222; }
h1 { color:#00ff88; font-size:26px; margin:0; letter-spacing:1px; }
.subtitle { color:#bbb; font-size:13px; margin-top:6px; letter-spacing:0.5px; }
.menu { display:flex; flex-direction:column; align-items:center; margin-top:40px; gap:18px; }
.menu a { display:block; width:260px; padding:14px 0; border-radius:10px; background:#111; border:1px solid #222; color:#00ffcc; text-decoration:none; font-weight:bold; letter-spacing:0.5px; transition:all 0.2s; }
.menu a:hover { background:#00ffcc; color:#000; transform:scale(1.02); }
.statusBox { margin-top:30px; font-size:0.9em; color:#aaa; }
footer { margin-top:60px; color:#444; font-size:12px; padding-bottom:20px; }
</style>
</head>
<body>
<header>
  <h1>FoodDeliveryEye</h1>
  <div class="subtitle">é…é”å“¡ç›®ç·šã®ãƒªã‚¢ãƒ«ãªå£°</div>
</header>

<div class="menu">
  <a href="/vote.html">ğŸ± èª¿ç†å¾…ã¡æ™‚é–“äºˆæ¸¬</a>
  <a href="/request.html">ğŸª æ²è¼‰åº—èˆ—ã‚’ç”³è«‹ã™ã‚‹</a>
  <a href="/manage.html">âš™ï¸ åº—èˆ—ç®¡ç†ç”»é¢</a>
</div>

<div class="statusBox" id="status">PocketBase æ¥ç¶šã‚’ç¢ºèªä¸­...</div>

<footer>Â© FoodDeliveryEye</footer>

<script type="module">
import PocketBase from "https://cdn.jsdelivr.net/npm/pocketbase@0.21.2/dist/pocketbase.es.mjs";

// PocketBaseã®URL
const pb = new PocketBase("https://delivery-eye.onrender.com");
const statusBox = document.getElementById("status");

// PocketBaseå‹•ä½œç¢ºèª
async function checkConnection() {
  try {
    const res = await fetch("https://delivery-eye.onrender.com/api/health");
    const json = await res.json();
    if (json.code === 200) {
      statusBox.textContent = "âœ… PocketBaseã‚µãƒ¼ãƒãƒ¼æ¥ç¶šæˆåŠŸ";
      statusBox.style.color = "#66ff99";
    } else {
      statusBox.textContent = "âš  PocketBaseå¿œç­”ç•°å¸¸";
      statusBox.style.color = "#ff9900";
    }
  } catch (e) {
    statusBox.textContent = "âŒ PocketBaseã«æ¥ç¶šã§ãã¾ã›ã‚“";
    statusBox.style.color = "#ff4444";
  }
}

checkConnection();
</script>
</body>
</html>
